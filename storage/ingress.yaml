apiVersion: v1
kind: Service
metadata:
  name: console
spec:
  selector:
    app: minio
  ports:
    - protocol: TCP
      port: 9091
      targetPort: 9091
    - protocol: TCP
      port: 9092
      targetPort: 9092
    - protocol: TCP
      port: 9093
      targetPort: 9093
---
apiVersion: networking.k8s.io/v1beta1
kind: Ingress
metadata:
  name: minio-ingress
  annotations:
    kubernetes.io/ingress.class: "traefik"
spec:
  rules:
  - http:
      paths:
      - path: /minio-console1
        backend:
          serviceName: console
          servicePort: 9090
      - path: /minio-console2
        backend:
          serviceName: console
          servicePort: 9092
      - path: /minio-console3
        backend:
          serviceName: console
          servicePort: 9093
